#!/usr/bin/env rc

fn gr{
	echo 'gr=1.6180339887; gr*'$1 | bc | sed 's/\..*$//'
}

switch($#*){
case '0'
	win=`{pfw}
	src='h'
	tgt='w'
	y=`{wattr $src $win}
	x=`{gr $y}
case '1'
	switch($1){
	case '-w'
		win=`{pfw}
		src='w'
		tgt='h'
		x=`{wattr $src $win}
		y=`{gr $x}
	case '-h'
		win=`{pfw}
		src='h'
		tgt='w'
		y=`{wattr $src $win}
		x=`{gr $y}
	case 0x*
		win=$1
		src='h'
		tgt='w'
		y=`{wattr $src $win}
		x=`{gr $y}
	}
case *
	echo 'beau [-w|-h] [WIN]' >[2=1]
	exit 1
}

wrs -a $x $y $win
